# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –î–µ–ø–ª–æ—é Ozon Tracker –Ω–∞ VPS

## üìã –ß—Ç–æ —Ç–µ–±–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:

- ‚úÖ VPS (Ubuntu 20.04/22.04 –∏–ª–∏ Debian)
- ‚úÖ –î–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `myozon.com`)
- ‚úÖ SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ 5-10 –º–∏–Ω—É—Ç –≤—Ä–µ–º–µ–Ω–∏

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 –∫–æ–º–∞–Ω–¥—ã)

### 1. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä
```

### 2. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
cd ~
git clone https://github.com/streetunions-commits/OZON.git
cd OZON
```

### 3. –ó–∞–ø—É—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

```bash
chmod +x deploy.sh
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Python, Nginx, Git)
- –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç systemd —Å–µ—Ä–≤–∏—Å (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç Nginx (reverse proxy)
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ü–ï–†–ï–î –∑–∞–ø—É—Å–∫–æ–º:

### 1. –ù–∞—Å—Ç—Ä–æ–π `.env` —Ñ–∞–π–ª

```bash
nano .env
```

–ü—Ä–æ–≤–µ—Ä—å/–∏–∑–º–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```env
FLASK_HOST=0.0.0.0
FLASK_PORT=5000
OZON_CLIENT_ID=—Ç–≤–æ–π_client_id
OZON_API_KEY=—Ç–≤–æ–π_api_key
```

### 2. –ù–∞—Å—Ç—Ä–æ–π `nginx.conf`

```bash
nano nginx.conf
```

–ó–∞–º–µ–Ω–∏:
- `YOUR_DOMAIN.com` ‚Üí —Ç–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
- `YOUR_USERNAME` ‚Üí —Ç–≤–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ–±—ã—á–Ω–æ `ubuntu` –∏–ª–∏ —Ç–≤–æ–µ –∏–º—è)

### 3. –ù–∞—Å—Ç—Ä–æ–π DNS

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–º–µ–Ω–∞ —Å–æ–∑–¥–∞–π **A-–∑–∞–ø–∏—Å—å**:
```
–¢–∏–ø: A
–ò–º—è: @  (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º)
–ó–Ω–∞—á–µ–Ω–∏–µ: IP_–í–ê–®–ï–ì–û_VPS
TTL: 3600
```

–ü–æ–¥–æ–∂–¥–∏ 5-10 –º–∏–Ω—É—Ç, –ø–æ–∫–∞ DNS –æ–±–Ω–æ–≤–∏—Ç—Å—è.

---

## üåê –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:

```bash
sudo systemctl status ozon-tracker
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚óè ozon-tracker.service - Ozon FBO Tracker
   Loaded: loaded
   Active: active (running)
```

### –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- **HTTP:** `http://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com`
- **HTTPS:** `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com` (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª SSL)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ö–æ–≥–¥–∞ —Ç—ã –∑–∞–ø—É—à–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏:

```bash
cd ~/OZON
./deploy.sh --update
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–∫–∞—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å GitHub
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./deploy.sh --status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./deploy.sh --logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
./deploy.sh --restart

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/ozon-tracker-error.log
sudo tail -f /var/log/nginx/ozon-tracker-access.log

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo tail -f /var/log/ozon-tracker/error.log
sudo tail -f /var/log/ozon-tracker/access.log
```

---

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

–°–∫—Ä–∏–ø—Ç `deploy.sh` –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ certbot
sudo apt-get install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot --nginx -d —Ç–≤–æ–π-–¥–æ–º–µ–Ω.com -d www.—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Nginx –¥–ª—è HTTPS
```

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π.

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
sudo journalctl -u ozon-tracker -n 50

# –ü—Ä–æ–≤–µ—Ä—å Gunicorn –≤—Ä—É—á–Ω—É—é
cd ~/OZON
source venv/bin/activate
gunicorn --config gunicorn_config.py ozon_app:app
```

### Nginx –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É:

```bash
# –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
sudo tail -f /var/log/nginx/error.log
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª
ls -la ~/OZON/ozon_data.db

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rw-r--r-- —Ç–≤–æ–π_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status ozon-tracker

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
journalctl -u ozon-tracker -f
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π:

1. **Firewall:**
```bash
sudo ufw allow 22    # SSH
sudo ufw allow 80    # HTTP
sudo ufw allow 443   # HTTPS
sudo ufw enable
```

2. **Fail2ban (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞):**
```bash
sudo apt-get install fail2ban
sudo systemctl enable fail2ban
```

3. **–ù–µ –∫–æ–º–º–∏—Ç—å .env –≤ Git:**
–§–∞–π–ª `.env` —É–∂–µ –≤ `.gitignore`, –Ω–æ –ø—Ä–æ–≤–µ—Ä—å!

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Ç–≤–æ–π Ozon Tracker —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Å –¥–æ–º–µ–Ω–æ–º!

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- GitHub: https://github.com/streetunions-commits/OZON
- –¢–≤–æ–π —Å–∞–π—Ç: http://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com

---

## ‚ùì –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `./deploy.sh --logs`
2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å: `./deploy.sh --status`
3. –ù–∞–ø–∏—à–∏ –º–Ω–µ - –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!
